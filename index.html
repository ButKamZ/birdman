<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
   <link rel="stylesheet" href="assets/skeleton.css" />
   <link rel="stylesheet" href="assets/styles.css" />
</head>
<body>
  <section>
    <article><div class="word"></div></article>
    <article>
      <div class="word top">
        <h2>HTML5 Web Audio API</h2>
        <h4>and</h4>
        <h2>Mark DiMarco</h2>
        <h4>Present</h4>
      </div>
    </article>
    <article>
      <h4 class="word top">A</h4>
      <ul>
        <li class="word">New Regency<span class="divider">/</span></li>
        <li class="word">M Productions<span class="divider">/</span></li>
        <li class="word">Le Grisbi</li>
      </ul>
      <h4 class="word">Production</h4>
    </article>
    <article><h1 class="word"></h1></article>
    <article>
      <p class="letters">And did you get what you wanted from this life, even so?</p>
      <p class="letters right">i did.</p>
      <p class="letters"> and what did you want?</p>
      <p class="letters right">To call myself beloved, to feel myself beloved on the earth.</p>
      <p class="letters right small">(raymond carver, Late Fragment)</p>
    </article>
    <article>
      <ul class="narrow">
        <li>
          <h1 class="word">B</h1>
        </li>
        <li>
          <h1 class="word">I</h1>
        </li>
        <li>
          <h1 class="word">R</h1>
        </li>
        <li>
          <h1 class="word">D</h1>
        </li>
        <li>
          <h1 class="word">M</h1>
        </li>
        <li>
          <h1 class="word">A</h1>
        </li>
        <li>
          <h1 class="word">N</h1>
        </li>
      </ul>
      <h4 class="center word">or</h4>
      <h4 class="center letters">(the unexpected virtue of ignorance)</h4>
      <h4 class="word"></h4>
      <h4 class="word"></h4>
      <h4 class="word"></h4>
      <h4 class="word top"><a href="http://github.com/markmarkoh/birdman">Source Code @github</a></h4>
    </article>
  </section>
  <script src="assets/jquery.js"></script>
  <script src="assets/lodash.custom.js"></script>
  <script>
    var order = [];

    var pages = $('article');

    pages.each(function(index) {
      var $page = $(this);

      var $wordsAndLetters = $page.find('.letters,.word');
      $wordsAndLetters.each(function() {
        if ( this.classList.contains('word') ) {
          order.push({type: 'word', el: this, page: index});
        }
        else if ( this.classList.contains('letters') ) {
          var letters = _.uniq(this.textContent.replace(/ /g, '').toUpperCase().split('')).sort(function(a,b) {
          if ( /[A-Z]/.test(a) && /[A-Z]/.test(b) ) {
            return a > b ? 1 : -1;
          }
          else if (/[A-Z]/.test(a) && !/[A-Z]/.test(b) ) {
            return -1;
          }
          else if (!/[A-Z]/.test(a) && /[A-Z]/.test(b) ) {
            return 1;
          }

          return a > b;

        });
        order.push({type: 'letters', el: this, page: index, letters: letters});
        }
      });
    });

  </script>
  <script src="assets/birdman.js"></script>
</body>
</html>